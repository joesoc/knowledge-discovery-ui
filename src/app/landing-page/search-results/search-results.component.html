<div class="flex flex-col gap-y-4">
    @for (result of searchResults; track result) {
        <app-search-result-item [resultitem]="result" (showPreview)="showPreview(result)" [selected]="result === previewItem()" /> 
    }
</div>

@if (enableView) {
    @if (previewItem()) {
        <div style="height: calc(100vh - 88px)" class="fixed gap-y-4 flex flex-col top-20 p-4 shadow rounded-lg w-1/2 border bg-white z-10 right-4 preview">

            <div class="flex justify-between items-center">
                <h2 class="text-base font-medium flex-none">{{ previewItem()?.title }}</h2>

                <!-- Close Button -->
            <button
            class="justify-center items-center flex shadow-sm p-2 border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-100"
            (click)="hidePreview()"
        >
            <ng-icon name="lucideX" />
        </button>
            </div>

            
                @if (previewUrl()) {
                    <iframe class="w-full flex-1 border" [src]="previewUrl()"></iframe>
                }

        </div>
    }
}